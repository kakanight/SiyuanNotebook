{"ID":"20250723202314-4ahpcfl","Spec":"1","Type":"NodeDocument","Properties":{"id":"20250723202314-4ahpcfl","title":"服务通信","type":"doc","updated":"20250724121625"},"Children":[{"ID":"20250723202314-w1mr4uc","Type":"NodeParagraph","Properties":{"id":"20250723202314-w1mr4uc","updated":"20250723202408"},"Children":[{"Type":"NodeText","Data":"服务通信是一种基于请求响应模式，是一种应答机制，一个节点A向另一个节点B发送请求，B接收处理请求并产生相应结果再返回A"}]},{"ID":"20250723202408-bgcy23j","Type":"NodeParagraph","Properties":{"id":"20250723202408-bgcy23j","updated":"20250723202514"},"Children":[{"Type":"NodeText","Data":"使用场景：对实时性有要求，同时具有一定的处理逻辑的数据传输场景"}]},{"ID":"20250723202808-aosunqd","Type":"NodeParagraph","Properties":{"id":"20250723202808-aosunqd","updated":"20250723202840"},"Children":[{"Type":"NodeText","Data":"是一种以请求响应的方式实现不同节点之间交互的通信模式"}]},{"ID":"20250724103803-94kgka8","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20250724103803-94kgka8","updated":"20250724104414"},"Children":[{"Type":"NodeText","Data":"服务通信自定义服务（srv）"}]},{"ID":"20250724104254-5zj2zv1","Type":"NodeParagraph","Properties":{"id":"20250724104254-5zj2zv1","updated":"20250724104322"},"Children":[{"Type":"NodeText","Data":"自定义srv需要包含两部分，请求部分和相应部分。"}]},{"ID":"20250724104330-0yqnt2h","Type":"NodeParagraph","Properties":{"id":"20250724104330-0yqnt2h","updated":"20250724104414"},"Children":[{"Type":"NodeText","Data":"实现流程于实现自定义msg流程类似：1.创建srv文件，2.编辑配置文件，3.编译生成中间文件"}]},{"ID":"20250724104414-fgnmlsv","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20250724104414-fgnmlsv","updated":"20250724121625"},"Children":[{"Type":"NodeText","Data":"服务器，客户端启动顺序问题"}]},{"ID":"20250724121012-zrcnu1q","Type":"NodeParagraph","Properties":{"id":"20250724121012-zrcnu1q","updated":"20250724121032"},"Children":[{"Type":"NodeText","Data":"问题：如果先启动客户端，那么会请求异常"}]},{"ID":"20250724121032-1vfgwf2","Type":"NodeParagraph","Properties":{"id":"20250724121032-1vfgwf2","updated":"20250724121120"},"Children":[{"Type":"NodeText","Data":"需求：如果先启动客户端，不要直接抛出异常，而是挂起，等服务器启动后，再正常请求解决。"}]},{"ID":"20250724121123-egvxlc6","Type":"NodeParagraph","Properties":{"id":"20250724121123-egvxlc6","updated":"20250724121143"},"Children":[{"Type":"NodeText","Data":"在ROS提供了内置相关函数，这些函数可以让客户端启动后挂起"}]},{"ID":"20250724121614-ubdn1uy","Type":"NodeParagraph","Properties":{"id":"20250724121614-ubdn1uy","updated":"20250724121625"},"Children":[{"Type":"NodeText","Data":"这些代码具体在client中进行实现"}]},{"ID":"20250724121330-oboucw9","Type":"NodeParagraph","Properties":{"id":"20250724121330-oboucw9","updated":"20250724121518"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"client.waitForExistence()"},{"Type":"NodeText","Data":"​ // 客户端调用"}]},{"ID":"20250724121455-34tijai","Type":"NodeParagraph","Properties":{"id":"20250724121455-34tijai","updated":"20250724121609"},"Children":[{"Type":"NodeText","Data":"也可以 ros调用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"ros::service::waitForService(\"服务话题\")"},{"Type":"NodeText","Data":"​"}]}]}